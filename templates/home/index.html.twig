{% extends 'base.html.twig' %}

{% block title %}Messagerie{% endblock %}

{% block body %}
    <style>
        .container {
            max-width: 800px;
            margin: 1em auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
            font-family: sans-serif;
        }

        .message-form {
            margin-bottom: 20px;
        }

        .message-list {
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }

        .message {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #fff;
        }

        .message-content {
            font-size: 16px;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            cursor: pointer;
        }

        .btn-primary:hover {
            background-color: #0056b3;
        }
    </style>

    <div class="container">
        <h1>Messagerie</h1>

        <div class="message-form">
            <h2>Écrire un message</h2>
            {{ form_start(form) }}

            <div>
                {{ form_widget(form.submit, { 'attr': {'class': 'btn btn-primary'} }) }}
            </div>
            {{ form_end(form) }}
        </div>

        <div class="message-list">
            <h2>Messages précédents</h2>
            {% if messages|length == 0 %}
                <p>Aucun message précédent.</p>
            {% else %}
                {% for message in messages %}
                    <div class="message">
                        <div class="message-content">{{ message.content | raw }}</div>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>



    <script>
        $(document).ready(function() {
            $('.summernote').summernote({
                codeviewFilter: false,
                codeviewIframeFilter: true,
                toolbar: [
                    // [groupName, [list of button]]
                    ['style', ['bold', 'italic', 'underline', 'clear']],
                    ['font', ['strikethrough', 'superscript', 'subscript']],
                    ['fontsize', ['fontsize']],
                    ['color', ['color']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['height', ['height']]
                ]
            });
        });
    </script>
{% endblock %}